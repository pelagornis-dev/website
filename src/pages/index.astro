---
import Layout from "@layouts/Layout.astro";
import HomeHero from "@components/home/hero/HomeHero.astro";
import Timeline from "~/components/home/features/Timeline.astro";
import type { MetaData, MetaDataOpenGraph } from "~/types";
import {
  useTranslations,
  getLangFromUrl,
  useTranslatedPath,
} from "@i18n/utils";
import site from "@utils/metadata.json";

const lang = getLangFromUrl(Astro.url);
const translatedPath = useTranslatedPath(lang);
const t = useTranslations(lang);

const openGraph: MetaDataOpenGraph = {
  url: site.url,
  title: t("home.title"),
  description: t("home.description"),
  images: [
    {
      url: `${site.url}${translatedPath("/og-image.jpg")}`,
      alt: "Pelagornis Logo",
      type: "image/jpg",
      height: 630,
      width: 1200,
    },
  ],
};

const metadata: MetaData = {
  openGraph: openGraph,
};
---

<Layout metadata={metadata}>
  <HomeHero/>
  <Timeline/>
</Layout>
